(this["webpackJsonpreactjs-shopcart"]=this["webpackJsonpreactjs-shopcart"]||[]).push([[0],{16:function(n){n.exports=JSON.parse('{"variant":"light","colors":{"primary":"#06090f","text":"#06090f","background":"#fff","shadows":"rgba(0, 0, 0, 0.1)"},"overlay":"rgba(101,108,133,0.8)"}')},22:function(n){n.exports=JSON.parse('{"variant":"dark","colors":{"primary":"#fff","text":"#fff","background":"#06090f","shadows":"rgba(0, 0, 0)"},"overlay":"rgba(0, 0, 0, 0.9)"}')},39:function(n,t,e){"use strict";e.r(t);var r=e(1),i=e(0),c=e.n(i),o=e(4),a=e.n(o),d=e(13),s=(e(32),e(14)),u=e(2),l=e(16),p=e(22),h=Object(i.createContext)({}),f=function(n){var t=n.children,e=Object(i.useState)((function(){var n=localStorage.getItem("@reactjs-cart/theme");return n?JSON.parse(n):l})),c=Object(s.a)(e,2),o=c[0],a=c[1];return Object(i.useEffect)((function(){localStorage.setItem("@reactjs-cart/theme",JSON.stringify(o))}),[o]),Object(r.jsx)(h.Provider,{value:{toggleTheme:function(){a("dark"===o.variant?l:p)},theme:o},children:Object(r.jsx)(u.a,{theme:o,children:t})})};var b=e(24),x=Object(i.createContext)({}),j={content:[],isOpen:!1},g=function(n){var t=n.children,e=Object(i.useReducer)((function(n,t){return Object(b.a)(n,(function(n){var e,r=(null===t||void 0===t||null===(e=t.payload)||void 0===e?void 0:e.id)?n.content.find((function(n){return n.data.id===t.payload.id})):null;switch(t.type){case"ADD":if(r){r.quantity+=1;break}n.content.push({quantity:1,data:t.payload});break;case"RM":r&&(r.quantity-=1,r.quantity<=0&&(n.content=n.content.filter((function(n){return n.data.id!==r.data.id}))));break;case"RESET":n=j;break;case"TOGGLE_ISOPEN":n.isOpen=!n.isOpen}return n}))}),j),c=Object(s.a)(e,2),o=c[0],a=c[1],d=o.isOpen,u=o.content,l=u.reduce((function(n,t){return n+t.quantity*t.data.price}),0),p=u.reduce((function(n,t){return n+t.quantity}),0);return Object(r.jsx)(x.Provider,{value:{content:u,isOpen:d,totalPrice:l,totalQuantity:p,countById:function(n){var t;return(null===(t=u.find((function(t){return t.data.id===n})))||void 0===t?void 0:t.quantity)||0},actions:{add:function(n){return a({type:"ADD",payload:n})},remove:function(n){return a({type:"RM",payload:n})},reset:function(n){return a({type:"RESET",payload:n})},toggleIsOpen:function(n){return a({type:"TOGGLE_ISOPEN",payload:n})}}},children:t})};function m(){return Object(i.useContext)(x)}var O=e(25),v=e.n(O),y=e(6),k=e(3);function w(){var n=Object(k.a)(["\n  position: relative;\n\n  &:after {\n    transition: transform ease 0.3s;\n    transform: scale(",');\n\n    content: "','";\n    position: absolute;\n    right: -40%;\n    top: -30%;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    width: 14px;\n    height: 14px;\n    padding: 5px;\n    border-radius: 50%;\n    background-color: red;\n\n    font-size: 10px;\n    font-weight: bold;\n  }\n']);return w=function(){return n},n}function S(){var n=Object(k.a)(["\n  background: ",";\n  color: ",";\n  min-height: 20px;\n  min-width: 20px;\n  padding: 5px;\n  border-radius: 50%;\n"]);return S=function(){return n},n}function E(){var n=Object(k.a)(["\n  padding: 7px;\n  border: 1px solid ",";\n"]);return E=function(){return n},n}function R(){var n=Object(k.a)(["\n  all: unset;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  cursor: pointer;\n  transition: opacity ease 0.3s;\n  user-select: none;\n\n  &:hover {\n    opacity: 0.5;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: normal;\n    pointer-events: none;\n  }\n"]);return R=function(){return n},n}var C=u.b.button(R()),I=Object(u.b)(C)(E(),(function(n){return n.theme.colors.primary})),L=Object(u.b)(C)(S(),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.colors.background})),_={Empty:C,Rounded:L,RoundedWithBadge:Object(u.b)(L)(w(),(function(n){return n.n?1:0}),(function(n){var t=n.n,e=void 0===t?"":t;return Number(e)>99?99:e})),Outlined:I};function z(){var n=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n\n  width: 220px;\n  height: 350px;\n  box-shadow: 0px 13px 21px -5px ",";\n  border-radius: 4px;\n  background: ",";\n  transition: all ease 0.3s;\n  transition-property: box-shadow, background;\n\n  img {\n    height: 220px;\n    object-fit: cover;\n    border-radius: 0 0 0 15px;\n  }\n\n  footer {\n    display: flex;\n    flex-direction: column;\n\n    height: 100%;\n    padding: 20px;\n    padding-bottom: 10px;\n\n    h3 {\n      color: ",";\n      font-weight: normal;\n    }\n\n    h4 {\n      color: #34c29e;\n      font-size: 1.2rem;\n      margin-bottom: 10px;\n    }\n\n    > div {\n      width: 100%;\n      height: 100%;\n      display: flex;\n\n      justify-content: flex-end;\n      align-items: flex-end;\n\n      > span {\n        font-size: 12px;\n        color: #9d9d9d;\n        flex: 1;\n      }\n\n      & > * {\n        margin-left: 10px;\n      }\n    }\n  }\n"]);return z=function(){return n},n}var D=u.b.div(z(),(function(n){return n.theme.colors.shadows}),(function(n){return n.theme.colors.background}),(function(n){return n.theme.colors.text}));var T=function(n){var t=n.data,e=n.inside_cart,i=void 0===e?0:e,c=n.onAdd,o=void 0===c?function(){}:c,a=n.onDelete,d=void 0===a?function(){}:a;return Object(r.jsxs)(D,{children:[Object(r.jsx)("img",{src:t.url_thumbnail,alt:t.display_text}),Object(r.jsxs)("footer",{children:[Object(r.jsx)("h3",{children:t.display_text}),Object(r.jsx)("h4",{children:t.price.toLocaleString("en-US",{style:"currency",currency:"USD"})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{children:i>0?"".concat(i," added"):""}),Object(r.jsx)(_.Rounded,{onClick:o,children:"+"}),Object(r.jsx)(_.Rounded,{disabled:!i,onClick:d,children:"-"})]})]})]})},q=e(18),N=e(5);function P(){var n=Object(k.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n\n  z-index: 905;\n  background-color: ",";\n"]);return P=function(){return n},n}var B=Object(u.b)(N.b.div).attrs({initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}})(P(),(function(n){var t=n.theme,e=n.color;return e||t.overlay}));function J(){var n=Object(k.a)(["\n  display: flex;\n  height: 100%;\n  width: 100%;\n  color: ",";\n"]);return J=function(){return n},n}function U(){var n=Object(k.a)(["\n  z-index: 906;\n\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  overflow: auto;\n\n  width: ",";\n  max-width: 95%;\n  height: ",";\n  max-height: 95%;\n\n  padding-left: 18px;\n  padding-right: 18px;\n  margin: auto;\n\n  transition: all ease 400ms;\n  transition-property: color, opacity, background;\n  border-radius: 3px;\n  background: ",";\n\n  header {\n    width: 100%;\n    min-height: 50px;\n\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    padding-bottom: 5px;\n\n    h2 {\n      font-size: 24px;\n      margin: 0;\n      color: ",";\n    }\n  }\n\n  ","\n"]);return U=function(){return n},n}var A=Object(u.b)(N.b.div).attrs({initial:{scale:.3},animate:{scale:1},exit:{scale:.3}})(U(),(function(n){var t=n.width;return void 0===t?"500px":t}),(function(n){var t=n.height;return void 0===t?"500px":t}),(function(n){return n.theme.colors.background}),(function(n){return n.theme.colors.text}),(function(n){return n.disabled&&"pointer-events: none; opacity: 0.3"})),G=u.b.div(J(),(function(n){return n.theme.colors.text}));var M=function(n){var t=n.isOpen,e=n.setIsOpen,c=n.children,o=n.disabled,a=n.title,d=n.width,s=n.heigth,u=Object(i.useRef)(null);return function(n,t){Object(i.useEffect)((function(){var e=function(e){n.current&&!n.current.contains(e.target)&&t(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[n,t])}(u,(function(){return e(!1)})),Object(r.jsx)(N.a,{children:t?Object(r.jsx)(B,{children:Object(r.jsxs)(A,Object(q.a)(Object(q.a)({},{ref:u,disabled:o,width:d,heigth:s}),{},{children:[Object(r.jsxs)("header",{children:[Object(r.jsx)("h2",{children:a}),Object(r.jsx)(_.Rounded,{onClick:function(){return e(!1)},children:Object(r.jsx)(y.b,{size:24})})]}),Object(r.jsx)(G,{children:c})]}))}):null})},Q=e(26),W={get:function(n){return new Promise((function(n){setTimeout((function(){n([5,2,4,3,1].map((function(n){return{id:n,display_text:"Model ".concat(n," - tshirt"),price:12.25*Number("1.".concat(n)),url_thumbnail:"/reactjs-shopcart"+"/assets/".concat(n,".jpeg")}})))}),2e3)}))}};function F(){var n=Object(k.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  min-height: 100%;\n  padding-top: 15px;\n  background-color: ",";\n  transition: background ease 0.3s;\n  background-image: url(",");\n  background-size: 150px, auto;\n\n  > header {\n    display: flex;\n\n    & > * {\n      margin: 20px;\n      margin-left: 5px;\n    }\n  }\n\n  section {\n    width: fit-content;\n\n    display: grid;\n    grid-template-columns: repeat(3, 220px);\n\n    grid-gap: 55px;\n    padding: 55px;\n    padding-top: 20px;\n\n    @media only screen and (max-width: 850px) {\n      & {\n        grid-template-columns: repeat(2, 1fr);\n      }\n    }\n\n    @media only screen and (max-width: 600px) {\n      & {\n        grid-template-columns: 1fr;\n      }\n    }\n  }\n"]);return F=function(){return n},n}var H=Object(u.b)(N.b.div).attrs({initial:"hidden",animate:"visible",variants:{hidden:{scale:.8,opacity:0},visible:{scale:1,opacity:1,transition:{delay:.6}}}})(F(),(function(n){return n.theme.colors.background}),"/reactjs-shopcart/assets/pattern.webp");var K=function(){var n=Object(i.useContext)(h).toggleTheme,t=m(),e=function(){var n=Object(Q.a)("products",(function(){return W.get("/products")})),t=n.data;return{data:void 0===t?[]:t,isLoading:n.isLoading}}(),c=e.data,o=e.isLoading;return Object(r.jsxs)(H,{children:[Object(r.jsxs)("header",{children:[Object(r.jsx)(_.RoundedWithBadge,{onClick:t.actions.toggleIsOpen,disabled:t.content.length<1||o,n:o?0:t.totalQuantity,children:Object(r.jsx)(y.c,{size:21})}),Object(r.jsx)(_.Rounded,{onClick:n,children:Object(r.jsx)(y.a,{size:21})})]}),Object(r.jsx)("section",{children:o?[1,2,3,4,5].map((function(n){return Object(r.jsx)(v.a,{height:"350px"},n)})):c.map((function(n){return Object(r.jsx)(T,{data:n,onAdd:function(){return t.actions.add(n)},onDelete:function(){return t.actions.remove(n)},inside_cart:t.countById(n.id)},n.id)}))})]})};function V(){var n=Object(k.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n\n  ul {\n    width: 100%;\n\n    display: flex;\n    flex-direction: column;\n\n    list-style: none;\n\n    li:nth-child(odd) {\n      background: #cccccc26;\n    }\n\n    li {\n      width: 100%;\n      height: 55px;\n      padding: 10px;\n\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n\n      img {\n        height: 100%;\n        border-radius: 50%;\n        margin-right: 10px;\n      }\n\n      > div {\n        flex: 1;\n        padding-left: 10px;\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n\n        & > * {\n          margin-right: 10px;\n        }\n      }\n    }\n  }\n\n  footer {\n    margin-top: auto;\n    padding: 20px;\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n"]);return V=function(){return n},n}var X=u.b.div(V());var Y=function(){var n=m();return Object(r.jsx)(M,{isOpen:n.isOpen,setIsOpen:n.actions.toggleIsOpen,title:"Checkout",heigth:"700px",width:"550px",children:Object(r.jsxs)(X,{children:[Object(r.jsx)("ul",{children:n.content.map((function(t){var e=t.data,i=t.quantity;return Object(r.jsxs)("li",{children:[Object(r.jsx)("img",{src:e.url_thumbnail,alt:"thumbnail"}),Object(r.jsx)("span",{children:e.display_text}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:[i," x"," ",e.price.toLocaleString("en-US",{style:"currency",currency:"USD"})]}),Object(r.jsx)(_.Rounded,{onClick:function(){return n.actions.add(e)},children:"+"}),Object(r.jsx)(_.Rounded,{onClick:function(){return n.actions.remove(e)},children:"-"})]})]},e.id)}))}),Object(r.jsxs)("footer",{children:[Object(r.jsxs)("h2",{children:["Total"," ",n.totalPrice.toLocaleString("en-US",{style:"currency",currency:"USD"})]}),Object(r.jsx)(_.Outlined,{disabled:n.content.length<1,onClick:function(){n.actions.reset(),d.b.success("\ud83d\ude80 Thanks! Be sure to check back often!")},children:"Pretend to buy"})]})]})})};function Z(){return Object(r.jsx)(f,{children:Object(r.jsxs)(g,{children:[Object(r.jsx)(K,{}),Object(r.jsx)(Y,{}),Object(r.jsx)(d.a,{})]})})}a.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Z,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.1c294c52.chunk.js.map