{"version":3,"sources":["context/ThemeContext.tsx","context/ducks/cart.duck.ts","context/CartContext.tsx","components/Button/Button.ts","components/Button/index.ts","components/Card/Card.styles.ts","components/Card/index.ts","components/Card/Card.tsx","components/Overlay/Overlay.ts","components/Overlay/index.ts","components/Modal/Modal.styles.ts","components/Modal/index.ts","components/Modal/Modal.tsx","utils/useOnClickOutside.ts","api/http.ts","pages/Products/Products.styles.ts","pages/Products/Cart/Cart.styles.ts","pages/Products/Cart/index.ts","pages/Products/Cart/Cart.tsx","pages/Products/index.ts","pages/Products/Products.tsx","api/queries/useProducts.ts","App.tsx","index.tsx"],"names":["ThemeContext","createContext","ProviderTheme","children","useState","lsTheme","localStorage","getItem","JSON","parse","defaultTheme","theme","setTheme","useEffect","setItem","stringify","Provider","value","toggleTheme","variant","darkTheme","Types","Selectors","state","id","find","p","data","quantity","reduce","acc","cur","price","Creators","payload","type","INITIAL_STATE","reducer","action","produce","draft","in_cart_index","findIndex","push","filter","CartContext","ProviderCart","lsCart","useReducer","cartDuck","dispatch","add","destroy","reset","findQuantity","totalItems","totalPrice","Empty","styled","button","Outlined","colors","primary","Rounded","background","Button","RoundedWithBadge","n","Number","Container","div","shadows","text","Card","props","inside_cart","onAdd","onDelete","src","url_thumbnail","alt","display_text","toLocaleString","style","currency","onClick","disabled","Overlay","motion","attrs","initial","opacity","animate","exit","color","overlay","scale","width","height","Content","Modal","isOpen","setIsOpen","title","heigth","ref","useRef","handler","listener","event","current","contains","target","document","addEventListener","removeEventListener","useOnClickOutside","size","httpMock","get","_uri","Promise","resolve","setTimeout","map","i","process","variants","hidden","visible","transition","delay","Cart","cartState","onCartIsEmpty","length","window","confirm","toast","success","Products","isModalOpen","setIsModalOpen","useContext","useQuery","http","isLoading","useProducts","product","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2ad3255f.chunk.js","sourcesContent":["import { useEffect } from \"react\";\nimport { createContext, useState, useContext } from \"react\";\nimport { ThemeProvider } from \"styled-components\";\n\nimport defaultTheme from \"../styles/default.theme.json\";\nimport darkTheme from \"../styles/dark.theme.json\";\n\ninterface ThemeContextData {\n  toggleTheme: any;\n  theme: any;\n}\n\nconst ThemeContext = createContext<ThemeContextData>({} as ThemeContextData);\n\nexport const ProviderTheme = ({ children }: any) => {\n  const [theme, setTheme] = useState(() => {\n    const lsTheme = localStorage.getItem(\"@reactjs-cart/theme\");\n\n    return lsTheme ? JSON.parse(lsTheme) : defaultTheme;\n  });\n\n  useEffect(() => {\n    localStorage.setItem(\"@reactjs-cart/theme\", JSON.stringify(theme));\n  }, [theme]);\n\n  function toggleTheme() {\n    setTheme(theme.variant === \"dark\" ? defaultTheme : darkTheme);\n  }\n\n  return (\n    <ThemeContext.Provider value={{ toggleTheme, theme }}>\n      <ThemeProvider theme={theme}>{children}</ThemeProvider>\n    </ThemeContext.Provider>\n  );\n};\n\nexport function useTheme() {\n  return useContext(ThemeContext);\n}\n\nexport default ThemeContext;\n","import produce from \"immer\";\n\nimport { Action, ProductInCart, Product } from \"../../types\";\n\nexport const Types = {\n  ADD: \"@cart/ADD\",\n  RM: \"@cart/RM\",\n  RESET: \"@cart/RESET\",\n};\n\nexport const Selectors = {\n  inside_cart: (state: ProductInCart[], id: number) =>\n    state.find((p) => p.data.id === id)?.quantity || 0,\n  total_items: (state: ProductInCart[]) =>\n    state.reduce((acc, cur) => acc + cur.quantity, 0),\n  total_price: (state: ProductInCart[]) =>\n    state.reduce((acc, cur) => acc + cur.quantity * cur.data.price, 0),\n};\n\nexport const Creators = {\n  addItem: (payload: Product) => ({ type: Types.ADD, payload }),\n  rmItem: (payload: Product) => ({ type: Types.RM, payload }),\n  reset: () => ({ type: Types.RESET, payload: null }),\n};\n\nexport const INITIAL_STATE = [];\n\nexport default function reducer(\n  state: ProductInCart[] = INITIAL_STATE,\n  action: Action\n) {\n  switch (action.type) {\n    case Types.ADD:\n      return produce(state, (draft) => {\n        const in_cart_index = state.findIndex(\n          (p) => p.data.id === action.payload.id\n        );\n\n        if (in_cart_index !== -1) {\n          draft[in_cart_index].quantity += 1;\n\n          return draft;\n        }\n\n        draft.push({ quantity: 1, data: action.payload });\n\n        return draft;\n      });\n    case Types.RM:\n      return produce(state, (draft) => {\n        const in_cart_index = state.findIndex(\n          (p) => p.data.id === action.payload.id\n        );\n\n        if (in_cart_index !== -1) {\n          if (draft[in_cart_index].quantity <= 1) {\n            return draft.filter(\n              (p) => p.data.id !== draft[in_cart_index].data.id\n            );\n          }\n\n          draft[in_cart_index].quantity -= 1;\n\n          return draft;\n        }\n\n        return draft;\n      });\n\n    case Types.RESET:\n      return INITIAL_STATE;\n\n    default:\n      return state;\n  }\n}\n","import { createContext, useContext, useEffect, useReducer } from \"react\";\n\nimport { Product, ProductInCart } from \"../types\";\n\nimport cartDuck, { Creators, Selectors } from \"./ducks/cart.duck\";\n\nexport interface CartContextData {\n  state: ProductInCart[];\n  add: any;\n  destroy: any;\n  reset: any;\n  findQuantity: any;\n  totalItems: number;\n  totalPrice: number;\n}\n\nconst CartContext = createContext<CartContextData>({} as CartContextData);\n\nexport const ProviderCart = ({ children }: any) => {\n  const lsCart = localStorage.getItem(\"@reactjs-cartshop\");\n  const INITIAL_STATE = lsCart ? JSON.parse(lsCart) : [];\n\n  const [state, dispatch] = useReducer(cartDuck, INITIAL_STATE);\n\n  function add(payload: Product) {\n    return dispatch(Creators.addItem(payload));\n  }\n\n  function destroy(payload: Product) {\n    return dispatch(Creators.rmItem(payload));\n  }\n\n  function findQuantity(id: number) {\n    return Selectors.inside_cart(state, id);\n  }\n\n  function reset() {\n    return dispatch(Creators.reset());\n  }\n\n  useEffect(() => {\n    localStorage.setItem(\"@reactjs-cartshop\", JSON.stringify(state));\n  }, [state]);\n\n  return (\n    <CartContext.Provider\n      value={{\n        state,\n        add,\n        destroy,\n        reset,\n        findQuantity,\n        totalItems: Selectors.total_items(state),\n        totalPrice: Selectors.total_price(state),\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport function useCart() {\n  return useContext(CartContext);\n}\n\nexport default CartContext;\n","import styled from \"styled-components\";\n\nexport const Empty = styled.button`\n  all: unset;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  cursor: pointer;\n  transition: opacity ease 0.3s;\n  user-select: none;\n\n  &:hover {\n    opacity: 0.5;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: normal;\n    pointer-events: none;\n  }\n`;\n\nexport const Outlined = styled(Empty)`\n  padding: 7px;\n  border: 1px solid ${({ theme }) => theme.colors.primary};\n`;\n\nexport const Rounded = styled(Empty)`\n  background: ${({ theme }) => theme.colors.primary};\n  color: ${({ theme }) => theme.colors.background};\n  min-height: 20px;\n  min-width: 20px;\n  padding: 5px;\n  border-radius: 50%;\n`;\n\nexport const RoundedWithBadge = styled(Rounded)<{\n  n?: string | number;\n}>`\n  position: relative;\n\n  &:after {\n    transition: transform ease 0.3s;\n    transform: scale(${({ n }) => (n ? 1 : 0)});\n\n    content: \"${({ n = \"\" }) => (Number(n) > 99 ? 99 : n)}\";\n    position: absolute;\n    right: -40%;\n    top: -30%;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    width: 14px;\n    height: 14px;\n    padding: 5px;\n    border-radius: 50%;\n    background-color: red;\n\n    font-size: 10px;\n    font-weight: bold;\n  }\n`;\n\nconst Button = {\n  Empty,\n  Rounded,\n  RoundedWithBadge,\n  Outlined,\n};\n\nexport default Button;\n","import Button from \"./Button\";\n\nexport default Button;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  width: 220px;\n  height: 350px;\n  box-shadow: 0px 13px 21px -5px ${({ theme }) => theme.colors.shadows};\n  border-radius: 4px;\n  background: ${({ theme }) => theme.colors.background};\n  transition: all ease 0.3s;\n  transition-property: box-shadow, background;\n\n  img {\n    height: 220px;\n    object-fit: cover;\n    border-radius: 0 0 0 15px;\n  }\n\n  footer {\n    display: flex;\n    flex-direction: column;\n\n    height: 100%;\n    padding: 20px;\n    padding-bottom: 10px;\n\n    h3 {\n      color: ${({ theme }) => theme.colors.text};\n      font-weight: normal;\n    }\n\n    h4 {\n      color: #34c29e;\n      font-size: 1.2rem;\n      margin-bottom: 10px;\n    }\n\n    > div {\n      width: 100%;\n      height: 100%;\n      display: flex;\n\n      justify-content: flex-end;\n      align-items: flex-end;\n\n      > span {\n        font-size: 12px;\n        color: #9d9d9d;\n        flex: 1;\n      }\n\n      & > * {\n        margin-left: 10px;\n      }\n    }\n  }\n`;\n","import Card from \"./Card\";\n\nexport default Card;\n","import Button from \"../Button\";\nimport { Product } from \"../../types\";\n\nimport { Container } from \"./Card.styles\";\n\ntype Props = {\n  data: Product;\n  inside_cart?: number;\n  onAdd?: any;\n  onDelete?: any;\n};\n\nexport default function Card(props: Props) {\n  const {\n    data,\n    inside_cart = 0,\n    onAdd = () => {},\n    onDelete = () => {},\n  } = props;\n\n  return (\n    <Container>\n      <img src={data.url_thumbnail} alt={data.display_text} />\n\n      <footer>\n        <h3>{data.display_text}</h3>\n        <h4>\n          {data.price.toLocaleString(\"en-US\", {\n            style: \"currency\",\n            currency: \"USD\",\n          })}\n        </h4>\n\n        <div>\n          <span>{inside_cart > 0 ? `${inside_cart} added` : \"\"}</span>\n\n          <Button.Rounded onClick={onAdd}>+</Button.Rounded>\n          <Button.Rounded disabled={!inside_cart} onClick={onDelete}>\n            -\n          </Button.Rounded>\n        </div>\n      </footer>\n    </Container>\n  );\n}\n","import styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\n\nexport default styled(motion.div).attrs({\n  initial: { opacity: 0 },\n  animate: { opacity: 1 },\n  exit: { opacity: 0 },\n})<{\n  color?: string;\n}>`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n\n  z-index: 905;\n  background-color: ${({ theme, color }) => (color ? color : theme.overlay)};\n`;\n","import Overlay from \"./Overlay\";\n\nexport { Overlay };\nexport default Overlay;\n","import styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\n\nexport const Container = styled(motion.div).attrs({\n  initial: { scale: 0.3 },\n  animate: { scale: 1 },\n  exit: { scale: 0.3 },\n})<{\n  disabled?: boolean;\n  width?: string;\n  height?: string;\n}>`\n  z-index: 906;\n\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  overflow: auto;\n\n  width: ${({ width = \"500px\" }) => width};\n  max-width: 95%;\n  height: ${({ height = \"500px\" }) => height};\n  max-height: 95%;\n\n  padding-left: 18px;\n  padding-right: 18px;\n  margin: auto;\n\n  transition: all ease 400ms;\n  transition-property: color, opacity, background;\n  border-radius: 3px;\n  background: ${({ theme }) => theme.colors.background};\n\n  header {\n    width: 100%;\n    min-height: 50px;\n\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    padding-bottom: 5px;\n\n    h2 {\n      font-size: 24px;\n      margin: 0;\n      color: ${({ theme }) => theme.colors.text};\n    }\n  }\n\n  ${({ disabled }) => disabled && `pointer-events: none; opacity: 0.3`}\n`;\n\nexport const Content = styled.div`\n  display: flex;\n  height: 100%;\n  width: 100%;\n  color: ${({ theme }) => theme.colors.text};\n`;\n","import Modal from \"./Modal\";\n\nexport { Modal };\nexport default Modal;\n","import React, { useRef } from \"react\";\nimport { AnimatePresence } from \"framer-motion\";\n\nimport { AiOutlineCloseCircle } from \"react-icons/ai\";\n\nimport Overlay from \"../Overlay\";\nimport Button from \"../Button\";\n\nimport useOnClickOutside from \"../../utils/useOnClickOutside\";\n\nimport { Container, Content } from \"./Modal.styles\";\n\ntype Props = {\n  isOpen: boolean;\n  setIsOpen: any;\n  children?: React.ReactNode;\n  disabled?: boolean;\n  title?: string;\n  width?: string;\n  heigth?: string;\n};\n\nexport default function Modal(props: Props) {\n  const { isOpen, setIsOpen, children, disabled, title, width, heigth } = props;\n  const ref = useRef(null);\n\n  useOnClickOutside(ref, () => setIsOpen(false));\n\n  return (\n    <AnimatePresence>\n      {isOpen ? (\n        <Overlay>\n          <Container\n            {...{\n              ref,\n              disabled,\n              width,\n              heigth,\n            }}\n          >\n            <header>\n              <h2>{title}</h2>\n\n              <Button.Rounded onClick={() => setIsOpen(false)}>\n                <AiOutlineCloseCircle size={24} />\n              </Button.Rounded>\n            </header>\n            <Content>{children}</Content>\n          </Container>\n        </Overlay>\n      ) : null}\n    </AnimatePresence>\n  );\n}\n","import { RefObject, useEffect } from \"react\";\n\nexport default function useOnClickOutside(ref: RefObject<any>, handler: any) {\n  useEffect(() => {\n    const listener = (event: any) => {\n      if (!ref.current || ref.current.contains(event.target)) {\n        return;\n      }\n\n      handler(event);\n    };\n\n    document.addEventListener(\"mousedown\", listener);\n    document.addEventListener(\"touchstart\", listener);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", listener);\n      document.removeEventListener(\"touchstart\", listener);\n    };\n  }, [ref, handler]);\n}\n","import { Product } from \"../types\";\n\nconst httpMock = {\n  get: (_uri: string): Promise<Array<Product>> =>\n    new Promise((resolve) => {\n      setTimeout(() => {\n        resolve(\n          [5, 2, 4, 3, 1].map((i) => ({\n            id: i,\n            display_text: `Model ${i} - tshirt`,\n            price: 12.25 * Number(`1.${i}`),\n            url_thumbnail: process.env.PUBLIC_URL + `/assets/${i}.jpeg`,\n          }))\n        );\n      }, 2 * 1000);\n    }),\n};\n\nexport default httpMock;\n","import styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\n\nexport const Container = styled(motion.div).attrs({\n  initial: \"hidden\",\n  animate: \"visible\",\n  variants: {\n    hidden: {\n      scale: 0.8,\n      opacity: 0,\n    },\n    visible: {\n      scale: 1,\n      opacity: 1,\n      transition: {\n        delay: 0.6,\n      },\n    },\n  },\n})`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  min-height: 100%;\n  padding-top: 15px;\n  background-color: ${({ theme }) => theme.colors.background};\n  transition: background ease 0.3s;\n  background-image: url(${process.env.PUBLIC_URL + \"/assets/pattern.webp\"});\n  background-size: 150px, auto;\n\n  > header {\n    display: flex;\n\n    & > * {\n      margin: 20px;\n      margin-left: 5px;\n    }\n  }\n\n  section {\n    width: fit-content;\n\n    display: grid;\n    grid-template-columns: repeat(3, 220px);\n\n    grid-gap: 55px;\n    padding: 55px;\n    padding-top: 20px;\n\n    @media only screen and (max-width: 850px) {\n      & {\n        grid-template-columns: repeat(2, 1fr);\n      }\n    }\n\n    @media only screen and (max-width: 600px) {\n      & {\n        grid-template-columns: 1fr;\n      }\n    }\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n\n  ul {\n    width: 100%;\n\n    display: flex;\n    flex-direction: column;\n\n    list-style: none;\n\n    li:nth-child(odd) {\n      background: #cccccc26;\n    }\n\n    li {\n      width: 100%;\n      height: 55px;\n      padding: 10px;\n\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n\n      img {\n        height: 100%;\n        border-radius: 50%;\n        margin-right: 10px;\n      }\n\n      > div {\n        flex: 1;\n        padding-left: 10px;\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n\n        & > * {\n          margin-right: 10px;\n        }\n      }\n    }\n  }\n\n  footer {\n    margin-top: auto;\n    padding: 20px;\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n`;\n","import Cart from \"./Cart\";\n\nexport default Cart;\n","import { useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { Button } from \"../../../components\";\nimport { CartContextData } from \"../../../context\";\n\nimport { Container } from \"./Cart.styles\";\n\ntype Props = {\n  cartState: CartContextData;\n  onCartIsEmpty?: any;\n};\n\nexport default function Cart(props: Props) {\n  const { cartState, onCartIsEmpty = () => {} } = props;\n\n  useEffect(() => {\n    if (cartState.state.length < 1) {\n      onCartIsEmpty();\n    }\n  }, [cartState.state, onCartIsEmpty]);\n\n  function handlePretentToBuy() {\n    if (window.confirm(\"Are u sure?\")) {\n      cartState.reset();\n\n      toast.success(\"🚀 Thanks! Be sure to check back often!\");\n    }\n  }\n\n  return (\n    <Container>\n      <ul>\n        {cartState.state.map(({ data, quantity }) => (\n          <li key={data.id}>\n            <img src={data.url_thumbnail} alt=\"thumbnail\" />\n            <span>{data.display_text}</span>\n            <div>\n              <span>\n                {quantity} x{\" \"}\n                {data.price.toLocaleString(\"en-US\", {\n                  style: \"currency\",\n                  currency: \"USD\",\n                })}\n              </span>\n              <Button.Rounded onClick={() => cartState.add(data)}>\n                +\n              </Button.Rounded>\n              <Button.Rounded onClick={() => cartState.destroy(data)}>\n                -\n              </Button.Rounded>\n            </div>\n          </li>\n        ))}\n      </ul>\n      <footer>\n        <h2>\n          Total{\" \"}\n          {cartState.totalPrice.toLocaleString(\"en-US\", {\n            style: \"currency\",\n            currency: \"USD\",\n          })}\n        </h2>\n\n        <Button.Outlined\n          disabled={cartState.state.length < 1}\n          onClick={handlePretentToBuy}\n        >\n          Pretend to buy\n        </Button.Outlined>\n      </footer>\n    </Container>\n  );\n}\n","import Products from \"./Products\";\n\nexport default Products;\n","import { useState } from \"react\";\nimport Skeleton from \"react-loading-skeleton\";\nimport { AiOutlineShoppingCart, AiFillBulb } from \"react-icons/ai\";\n\nimport { Button, Card, Modal } from \"../../components\";\nimport { useProducts } from \"../../api/queries\";\nimport { useCart, useTheme } from \"../../context\";\n\nimport { Container } from \"./Products.styles\";\n\nimport Cart from \"./Cart\";\n\nexport default function Products() {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const { toggleTheme } = useTheme();\n  const cartState = useCart();\n\n  const { data, isLoading } = useProducts();\n\n  return (\n    <Container>\n      <header>\n        <Button.RoundedWithBadge\n          disabled={cartState.state.length < 1 || isLoading}\n          onClick={() => {\n            setIsModalOpen(true);\n          }}\n          n={isLoading ? 0 : cartState.totalItems}\n        >\n          <AiOutlineShoppingCart size={21} />\n        </Button.RoundedWithBadge>\n        <Button.Rounded onClick={toggleTheme}>\n          <AiFillBulb size={21} />\n        </Button.Rounded>\n      </header>\n\n      <section>\n        {isLoading\n          ? [1, 2, 3, 4, 5].map((i) => <Skeleton key={i} height=\"350px\" />)\n          : data.map((product) => (\n              <Card\n                key={product.id}\n                data={product}\n                onAdd={() => cartState.add(product)}\n                onDelete={() => cartState.destroy(product)}\n                inside_cart={cartState.findQuantity(product.id)}\n              />\n            ))}\n      </section>\n\n      <Modal\n        isOpen={isModalOpen}\n        setIsOpen={setIsModalOpen}\n        title=\"Checkout\"\n        heigth=\"700px\"\n        width=\"550px\"\n      >\n        <Cart\n          cartState={cartState}\n          onCartIsEmpty={() => setIsModalOpen(false)}\n        />\n      </Modal>\n    </Container>\n  );\n}\n","import { useQuery } from \"react-query\";\n\nimport http from \"../http\";\n\nexport default function useProducts() {\n  const { data = [], isLoading } = useQuery(\"products\", () =>\n    http.get(\"/products\")\n  );\n\n  return { data, isLoading };\n}\n","import { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport { ProviderCart, ProviderTheme } from \"./context\";\nimport { Products } from \"./pages\";\n\nexport default function App() {\n  return (\n    <ProviderTheme>\n      <ProviderCart>\n        <Products />\n        <ToastContainer />\n      </ProviderCart>\n    </ProviderTheme>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}